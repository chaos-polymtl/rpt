# -*- coding: utf-8 -*-
"""
Created on Tue Aug 15 13:30:50 2023

@author: Thomas MONATTE
"""
num_samples=300
dime_XY=60
dime_Z=60

time_move=10
time_stay=2

time_diag1=5
time_diag2=10
time_spiral=150


x1_values=[50.336286741704676,
 0.4576710887653542,
 10.014638959528282,
 43.19448817735139,
 47.42906407313728,
 22.51347490946825,
 15.559759359855068,
 23.80666752092243,
 11.463325524168624,
 55.94462175919092,
 3.409929067388664,
 26.92628949616008,
 56.586940257896025,
 43.29944790291704,
 11.87364969217214,
 10.721855324820474,
 46.07353340270362,
 53.95921852398043,
 51.2583490411504,
 20.974741096812625,
 42.73820636018488,
 28.400194823535216,
 41.240172861798825,
 7.207265825431006,
 34.40077176197627,
 53.11410717107223,
 41.63463493408866,
 46.35930895186477,
 2.0216629192066167,
 12.942437916020639,
 57.598835080978404,
 54.83060032587325,
 38.61294483860115,
 24.85489846263875,
 34.181657052573215,
 28.942476879560804,
 27.95664610361278,
 40.78536198552181,
 5.231754401461522,
 9.089255070806445,
 18.482696334634895,
 52.526998547298284,
 37.57805306719866,
 37.97041559284301,
 36.8344885369809,
 4.696786282890424,
 16.327460628588433,
 46.81650364534014,
 25.298787015494128,
 28.122446176868813,
 33.80700645120405,
 47.04829325207537,
 58.19208142466716,
 40.37881575265853,
 14.07494770311698,
 31.595222237204236,
 15.14270179510568,
 3.834459481235912,
 18.996028245368148,
 31.30128568801132,
 20.291318571615644,
 7.460421285863385,
 56.12286843106849,
 14.818999485836375,
 17.258073985338577,
 27.42105587002761,
 40.198057673006375,
 50.790802563865896,
 49.62774666304261,
 13.0858870804095,
 21.478619797266198,
 8.627684134221209,
 47.34656168309974,
 7.756502388664308,
 13.76912927349052,
 25.056525654778753,
 58.53696230645659,
 7.088803792379827,
 6.637450071316644,
 54.43099538168633,
 12.205662004876048,
 14.680095105389345,
 20.14233440227043,
 56.86986551408007,
 15.36709854670518,
 47.99069335958502,
 37.11233614470785,
 8.802512131456742,
 31.60561925262115,
 10.207363656652053,
 11.361464569238985,
 17.025111759711507,
 1.519771167767091,
 36.777365167990716,
 28.67364956155945,
 30.74049613732417,
 25.665938670652302,
 50.167875273178936,
 0.07085572688807329,
 2.897352488986259,
 48.97788560133315,
 4.478863370268859,
 34.39316780266697,
 44.278825796402124,
 52.18618195785349,
 33.08141179637914,
 56.74564297373943,
 29.050810323964736,
 32.7268312941639,
 53.7948865802075,
 8.364878247243437,
 41.92370141347202,
 18.233381046238293,
 56.233749778272944,
 9.352675201212858,
 9.857166608426322,
 36.35736706471491,
 15.861740919572703,
 1.76512321949834,
 22.056018123298262,
 16.772435444830275,
 9.737173220879539,
 17.42653589887156,
 14.567557047260683,
 55.04258061168904,
 28.314469789757112,
 15.778458980863334,
 20.745190322277256,
 51.56842379943474,
 19.45035640818468,
 2.3928152691125675,
 26.60965284043673,
 40.59853726109252,
 22.913120422555092,
 30.234755330645765,
 20.579511737723983,
 42.544573333025596,
 21.96595876510405,
 23.18495777763712,
 55.76243505148691,
 38.30545040429436,
 51.16173521478856,
 50.875935888869016,
 57.99220617217577,
 36.41746334205618,
 9.487501986695577,
 18.082036127982704,
 30.166683364694833,
 34.6372204349801,
 59.258117192815895,
 29.71386084264275,
 4.931641055211978,
 59.749502123373624,
 44.921302493580015,
 25.477221000879393,
 3.3735642316761605,
 45.31275543355227,
 45.145757270216016,
 11.159889266505576,
 45.980473240107024,
 35.29260558408564,
 19.3932215498967,
 49.99596581238803,
 32.52591157963678,
 3.695555994409838,
 40.814078354181206,
 26.075381241855613,
 21.041639984070883,
 43.78319904644465,
 31.850779820620275,
 4.293597785623096,
 22.356221032514412,
 18.622453434255107,
 41.1023101545829,
 48.772392765657486,
 55.4981008236957,
 48.15125567187169,
 23.309300422103867,
 44.75437884872769,
 58.60152224737288,
 35.89120273140753,
 24.2911787114187,
 17.811020817966185,
 59.58113019500437,
 39.325649589037866,
 54.661732592944446,
 6.507835731427299,
 49.18753008417002,
 58.296438334896735,
 12.491474039689184,
 12.621056827560766,
 19.099202951417567,
 23.448146299892084,
 42.32191719533143,
 2.6267701519094073,
 44.52804261470148,
 8.510637409653109,
 51.97062638914555,
 49.43570424299934,
 27.156328881026337,
 53.517260851467604,
 59.19889485369348,
 32.2707526207514,
 24.774475862700786,
 8.010598766252862,
 1.8452211404900378,
 10.991641677239336,
 21.313473087857652,
 35.64800591635604,
 5.158504474229627,
 54.13597555596026,
 1.1110271587047704,
 13.2715160919508,
 42.02727965074904,
 19.904861389182845,
 38.85678920106073,
 29.5569563665674,
 38.52645507542829,
 48.26371230946946,
 16.030086700386747,
 55.39510186450133,
 6.048558734716275,
 38.16065127563575,
 21.645863040203388,
 26.25494121238475,
 54.37341879790801,
 17.71352018836224,
 32.99221991929557,
 31.044663377131545,
 33.41080256849787,
 47.747144685882326,
 11.704676682634217,
 29.92759678840793,
 30.530479164928884,
 45.734709579699015,
 12.048955684667717,
 52.7332535120678,
 57.09763567505995,
 29.38438507799388,
 50.584997770738525,
 10.403795952707435,
 0.30020270953859707,
 5.976378954569828,
 51.6588702125238,
 2.462073968910584,
 36.03222186416707,
 7.98567029122967,
 46.43981976580352,
 22.771629358439316,
 25.96127611172406,
 1.2337450330671078,
 6.867006322592725,
 39.979183392964394,
 23.664876131422425,
 5.709956790497487,
 33.368759854639485,
 0.6385154437917411,
 41.53356779188425,
 42.801299219197446,
 4.041731262330049,
 43.9384876339416,
 14.208089779114617,
 34.82235407174063,
 57.760521149522035,
 24.446245648018166,
 45.4650858494767,
 59.98882560699363,
 44.10538221836419,
 33.70301809636032,
 37.23583509273552,
 43.42157862674614,
 35.564551612847936,
 16.956709284000187,
 52.95785888710664,
 35.01332844292159,
 52.373919041257444,
 32.07286900557828,
 58.92806529703484,
 27.223095693676377,
 26.543918248402793,
 57.25471507215445,
 13.512753616540119,
 3.1508895465513644,
 0.8102701105725512,
 30.934053656700186,
 13.942892787159309,
 37.648758431905534,
 39.75649155982774,
 49.30576071671511,
 53.214561356242854,
 39.088029946107724,
 46.740064486677596,
 16.409169732626673,
 6.207668561267242,
 48.54785505563526,
 24.027743300764467,
 19.642315984031335,
 39.567542533119536,
 27.715815721076506,
 5.427564256412925]

x2_values=[17.809907260734818,
 5.303366136675621,
 22.985809937851116,
 15.227592038353194,
 29.042314259314324,
 -2.0879872958872028,
 22.15475042848874,
 -21.324334089399677,
 -8.823173122494154,
 1.0360615634412973,
 18.07508333662578,
 20.87739933978939,
 15.894282147347994,
 -0.06250340316242387,
 27.697939350052266,
 -19.619543131516878,
 -19.36392534382386,
 -1.7946918434023758,
 -29.11472866641318,
 20.144762575618962,
 26.198581634279364,
 -13.519397546104749,
 -27.29676826690078,
 -25.430104966084237,
 -2.816553200325945,
 -21.134691977430588,
 6.17659952217609,
 19.846296600220747,
 -12.47123057154974,
 -9.727866276013316,
 28.124718782524425,
 -7.043010125034723,
 27.299539942827415,
 29.8649307461004,
 13.405433517897748,
 -25.70873385793369,
 28.7664037058084,
 -14.384796625057511,
 23.42602652125992,
 7.622613518249196,
 4.8190449544839495,
 22.574265357536568,
 28.410618666701318,
 -24.862609571763986,
 9.645067173015256,
 -14.100071286147374,
 3.4258287092861224,
 6.253326965411283,
 -13.01033478782388,
 -1.9951054980831913,
 -22.50038592076013,
 12.097696905250245,
 -22.632130401755024,
 6.819611111988948,
 28.86127543305942,
 -26.279111284210487,
 -15.397643780244042,
 5.832063079278214,
 -6.054381152353226,
 0.8056803173106246,
 11.335583062517209,
 14.79663454306396,
 -29.4637479665543,
 16.208793574996065,
 9.4478422430833,
 -22.074370913974022,
 -26.444501373189254,
 -11.33586967666431,
 -3.910063650340149,
 -27.484543381389088,
 2.407427084311351,
 9.106295399415195,
 -8.634967107579524,
 11.671697282098883,
 13.164434843286578,
 8.544737397180967,
 -11.078498355202512,
 -20.29020777723428,
 -13.727894387303927,
 21.261276870181582,
 1.527947223063272,
 24.987630612925287,
 -14.953638340153844,
 -25.24064830881748,
 -10.974240289300752,
 -13.95701705851939,
 16.032450471545907,
 -4.466548705725032,
 26.673368010792686,
 -22.950673083625674,
 7.9226538853656265,
 19.473572976499966,
 -18.72446267274305,
 -15.14702692053462,
 10.076723241781018,
 -1.1573589521878986,
 23.100681593011167,
 -14.613112630483686,
 28.34753733191163,
 0.5869202069276653,
 -18.546472167465122,
 18.66700315072761,
 -15.691615912097223,
 -17.27711745144601,
 -9.412543584514154,
 -7.775307419283315,
 25.96294650360396,
 14.88098464082671,
 7.588315510075233,
 -12.382963577931719,
 19.212249634304023,
 -7.887098889904021,
 11.174637050328528,
 14.147980510452555,
 -20.555716073625582,
 -9.881197754429778,
 20.796033170906014,
 -13.232998785589697,
 20.235596961268833,
 -24.545711669466776,
 -23.954329092237653,
 -3.451560623799349,
 26.911614117709185,
 -12.68293003222825,
 19.06828402743848,
 2.9264959545354827,
 -18.366607015558206,
 -14.55833124111807,
 -5.6616637901071165,
 -11.500760590038908,
 24.722554697140936,
 -10.73704071797997,
 -20.89333796060656,
 -17.589431157848846,
 27.544246404665046,
 12.256078676702323,
 -27.870204772526918,
 25.062324754855105,
 -4.241999201002347,
 5.022895946658011,
 -29.89543389532015,
 -3.6268083394494326,
 29.518160172726162,
 -10.361207141505425,
 -4.960000793602205,
 16.521719185881516,
 -29.6217971104273,
 -28.616310523472702,
 -11.65466909567851,
 24.02881754112333,
 -21.519605693599758,
 -18.102177776893306,
 -0.5851928334846654,
 21.06142755353296,
 -5.974696054668275,
 -0.9446413425535347,
 -0.6970407924832038,
 -3.1253373450356854,
 -28.58116683064161,
 15.0626374054768,
 -24.078745042673546,
 3.215664628190602,
 7.071734366172123,
 21.843447906414767,
 -5.063331688434804,
 12.534601027739434,
 6.71081887167535,
 26.27814332468771,
 10.737470015002387,
 -10.093186648232855,
 29.60325001414534,
 -21.730773202213676,
 -7.311307896685122,
 25.342249144447564,
 27.115153997514298,
 -28.2623662904021,
 -20.742347403563734,
 -19.148334535288203,
 -23.188940911119722,
 -18.808505166777657,
 -19.87801491038797,
 15.742204778949912,
 -16.83735873587076,
 2.6560841950687006,
 0.6355083445353173,
 5.76828899320266,
 23.929727387888974,
 -5.417983753327473,
 18.57428319704011,
 25.455957644268004,
 0.0391384238189616,
 16.813951520185,
 4.614771149108421,
 13.291528277025215,
 -28.91527161359933,
 3.653588863618431,
 -5.36030892079431,
 8.300557491236823,
 -23.467379525338238,
 19.7754948698462,
 -17.60701268841384,
 1.7845352369235172,
 -16.68385072387597,
 17.487504289146635,
 -8.112326880083803,
 21.478698381871745,
 14.495215321025078,
 -24.213681927108347,
 23.31506872372327,
 -12.000745872457276,
 27.880106425243703,
 -6.2216319083712115,
 -20.076227506480812,
 24.441798428535947,
 -2.650333035516301,
 1.9479271555303832,
 3.826392380874154,
 -4.717834754791884,
 8.18956474847137,
 2.342892973020838,
 -6.516084104731156,
 -1.2593206801399504,
 10.341083717866375,
 22.23751057988943,
 -25.983107280782942,
 -23.729592058619012,
 20.51510728307359,
 -28.186820881620182,
 -11.85575655090613,
 6.4523138288809605,
 -19.499446830175884,
 -26.82927232219178,
 -8.295806703079634,
 17.35135690713873,
 -26.608978058684364,
 -17.031683597705957,
 0.20742086837449492,
 9.375107933496906,
 12.877244288210122,
 16.64929737826504,
 26.50572284802694,
 -26.142362065685152,
 1.239273873359295,
 24.284132954730637,
 -22.29969191652459,
 4.406804079894265,
 -16.3206500287701,
 -21.877370195692027,
 10.421774542525377,
 -25.182682984159314,
 -9.374407153604931,
 5.557433800931932,
 18.35261536658828,
 29.349956053266403,
 8.815140534965373,
 25.78750084758689,
 -1.4383232518040252,
 3.0969689392820783,
 -17.984397980005497,
 -27.12977015080239,
 11.919672755222294,
 -2.4276324145654584,
 17.111442221985904,
 11.432886156699944,
 -27.734637551500395,
 22.76428562436513,
 -15.448698542405616,
 -12.809453988442069,
 21.710320738131102,
 -7.4972324430027975,
 -8.544957988154707,
 -16.159309222093682,
 -29.256634211313894,
 -4.026725361145282,
 -2.2524989425500195,
 -24.675029399299326,
 8.728188034164738,
 9.858858332154583,
 -3.252429359237997,
 -6.636200683001441,
 -16.46948348052082,
 17.727391336361038,
 12.702961805113674,
 10.829539073417429,
 14.316249396537188,
 4.110903368805218,
 -9.050003667986402,
 -10.465889046775693,
 13.662428671335071,
 15.428046624222333,
 -15.981651144660475,
 4.238594567950585,
 7.294155438473929,
 13.95756676331004,
 23.729329844370696,
 2.094874095367551,
 -6.992845133818509,
 18.849186564752628,
 -0.26536597534373385,
 -23.281404465641515]

x3_values=[-58.228831922543925,
 -17.88466528979452,
 -55.90991873753461,
 -15.107628662643855,
 -30.060638965858328,
 -23.480622597289425,
 -39.15007293452601,
 -49.396147439960245,
 -41.30824537110949,
 -37.99398508264322,
 -22.924697951107497,
 -5.983459540958172,
 -54.09186717657708,
 -58.97052656769613,
 -6.1679763042062845,
 -31.350606041540438,
 -52.13665738120065,
 -53.360472832226904,
 -36.97104539485741,
 -29.094381943871756,
 -43.92914417911499,
 -35.85637556547291,
 -10.361010966629003,
 -12.69644247763987,
 -36.31790041241681,
 -56.38381772392677,
 -18.132071076104104,
 -1.4423349485214985,
 -15.965097562678707,
 -4.26334763331139,
 -21.2792512324434,
 -57.68423776284579,
 -1.2760848539773022,
 -28.486245349755485,
 -34.962054870421255,
 -19.03925937702295,
 -51.051373493445425,
 -11.952625706508812,
 -20.675247700285624,
 -2.4911857926087464,
 -50.94529472206247,
 -3.273539913937995,
 -7.856761297788829,
 -56.11533994325059,
 -20.55822678963456,
 -1.7835384514341825,
 -17.215416761700105,
 -3.826539259509353,
 -55.6590012885611,
 -44.229809604674145,
 -0.8590468511325398,
 -26.14671809221474,
 -37.646379975692426,
 -6.794938562576455,
 -53.10430502442648,
 -26.588186837532383,
 -35.751661172400766,
 -53.87619630785862,
 -7.603344564327074,
 -1.857093045757118,
 -21.641856208523556,
 -8.460701785319905,
 -44.76980890437186,
 -18.726063551088693,
 -17.005296909780796,
 -21.495414801127467,
 -40.91241031801994,
 -47.3210273178555,
 -56.720364689551715,
 -35.05025351563421,
 -42.10800224101929,
 -41.72231594607436,
 -13.534937879086954,
 -43.19040585374523,
 -9.228800575003852,
 -4.0268267950243555,
 -6.438359743344712,
 -59.591458873450705,
 -42.73431752679615,
 -16.004523545777403,
 -26.618717370608522,
 -37.45286794582647,
 -11.148188890647631,
 -42.406809116455555,
 -28.831269329980714,
 -52.81637159941545,
 -36.692648007257475,
 -27.004292775255436,
 -54.61859839853244,
 -9.667570840555854,
 -40.26783897855603,
 -10.016409001203122,
 -37.2233419713562,
 -42.818417793137826,
 -5.206416269723626,
 -18.38306165372306,
 -58.032748330890634,
 -14.192892268032075,
 -39.46987687177442,
 -50.233241033118595,
 -36.11148177601818,
 -16.915141032067822,
 -51.56749428435968,
 -57.91209928872848,
 -22.27985820269732,
 -15.516993249682457,
 -24.842279689566418,
 -38.200549429520535,
 -29.32800211166353,
 -4.6159885011216275,
 -59.16108972352617,
 -39.76489642879039,
 -55.36126978694127,
 -10.525389599714508,
 -20.898801151065726,
 -18.50822821066084,
 -49.05556968240572,
 -34.06073681058892,
 -47.47525946003027,
 -45.20739193960014,
 -45.76551903277184,
 -52.33288020823031,
 -46.887886532034095,
 -56.93513561759382,
 -9.508662682257473,
 -53.7931656241525,
 -5.471492149257827,
 -47.99590124911758,
 -39.27716979881448,
 -26.82009445795014,
 -11.276803083698269,
 -34.25996310848756,
 -28.054643356539838,
 -39.992347349631984,
 -19.942273808743792,
 -55.50834727194055,
 -31.9948268858973,
 -51.20770827789677,
 -29.798337239202894,
 -19.209896756927343,
 -20.283283989711073,
 -16.702693564654197,
 -14.906665235040947,
 -28.684081181044306,
 -41.92859002277352,
 -37.03946977295535,
 -15.227437991111458,
 -58.42631870994994,
 -13.284636398853934,
 -59.644193832752975,
 -9.831450377702758,
 -4.4722370693265034,
 -3.4004113686129287,
 -41.478893305884895,
 -25.252805684664857,
 -31.75255321124929,
 -2.1610452213661944,
 -12.160577178808715,
 -6.3807792787174975,
 -28.291278416698084,
 -25.052982420671825,
 -35.556144836946686,
 -0.06219368416931559,
 -24.77652793891795,
 -33.35556350102754,
 -32.82710420074814,
 -32.48432071147741,
 -30.74989216524641,
 -21.85104248765532,
 -57.41743764819775,
 -33.74340427346388,
 -27.907718890686752,
 -48.08158374850728,
 -34.574340479503704,
 -54.30698241149626,
 -2.8997686190839644,
 -24.065864493141696,
 -0.6261293271587718,
 -17.593204257512525,
 -10.765301753782367,
 -16.342988260696124,
 -14.514977163629396,
 -8.645187499978249,
 -8.350975796280608,
 -27.260069350584835,
 -40.04283261726613,
 -15.614887711278932,
 -25.566805857800013,
 -22.504998929776555,
 -1.04129727292338,
 -42.27674709555701,
 -3.0465602795888813,
 -59.95747358265993,
 -57.073657188730294,
 -17.72636425677082,
 -52.76608478639365,
 -13.197335586063424,
 -27.436064746332605,
 -16.53786888909697,
 -47.67684889725658,
 -22.75404178321945,
 -33.83253027299414,
 -38.92994657515264,
 -14.78116999727299,
 -53.58701154335428,
 -44.40752303312742,
 -46.171201660922236,
 -3.6424606212390387,
 -41.03991526703108,
 -25.767281110954144,
 -43.50598812262933,
 -55.1628237047145,
 -47.019584112229225,
 -9.199711778130343,
 -44.115900716383436,
 -48.704899714406096,
 -23.995622237540083,
 -8.82216415470927,
 -50.446928957524904,
 -13.840188564105212,
 -20.186574073224193,
 -38.75516981756635,
 -46.79141680645045,
 -12.344002223840945,
 -5.071626625247518,
 -7.3280214907801025,
 -32.167135218472794,
 -32.74601718289486,
 -52.530377289423456,
 -40.4570403548744,
 -5.741025695887359,
 -54.57233584723058,
 -6.86864893249853,
 -49.816749207096024,
 -24.207065026321658,
 -30.57368896665157,
 -45.558668764210026,
 -50.67386814568064,
 -35.23360744852137,
 -38.17367663595291,
 -23.77252992325247,
 -49.7509582840216,
 -0.550065996497132,
 -45.965346384591136,
 -48.86805639981806,
 -8.02195225201573,
 -23.116388228541737,
 -49.55044298623106,
 -7.163811095047741,
 -38.5943828162828,
 -2.6543565427072195,
 -32.20894580414917,
 -45.16022262238594,
 -18.88019899605738,
 -29.414246740122504,
 -11.782650261335505,
 -7.453091086303758,
 -19.604749158728936,
 -44.9862356954711,
 -27.771602162764246,
 -12.43809566436775,
 -14.292484961082152,
 -13.679363993111977,
 -26.343824342050226,
 -43.38918615351075,
 -31.567487287531804,
 -48.401956975858894,
 -29.977599738740526,
 -30.98670510100721,
 -2.2106885472966624,
 -34.794246815960186,
 -22.05676047972647,
 -56.46824298327542,
 -33.16120005944554,
 -54.93920844560036,
 -30.33100805108454,
 -46.34526308638654,
 -51.77700912277418,
 -10.882961400716425,
 -48.257556456277214,
 -33.50375582422658,
 -25.948293905325727,
 -11.47412431948051,
 -36.43019150801223,
 -0.2531100719840893,
 -24.40319664943445,
 -43.6489420496799,
 -58.62507799129655,
 -40.66778578470084,
 -31.061203027086588,
 -12.848002462581015,
 -46.59977593537743,
 -59.325490176572615,
 -57.31906434950045,
 -4.822999395006654,
 -23.364260312909074,
 -19.592129552003577,
 -50.1283240185111,
 -21.063886690224905,
 -51.82963573754209]

import time
import csv
time_real=[]
real_pos=[]
t=time.time()



amovel(posx(200,0,0,0,0,0),t=20,mod=DR_MV_MOD_REL)
while True:
  if check_motion()==0:
    break
  if check_motion()==2:
    time_real.append(time.time()-t)
    real_pos.append(get_current_posx())
    time_real.append(time.time()-t)
mwait(0)

amovel(posx(-200,0,0,0,0,0),t=20,mod=DR_MV_MOD_REL)
while True:
  if check_motion()==0:
    break
  if check_motion()==2:
    time_real.append(time.time()-t)
    real_pos.append(get_current_posx())
    time_real.append(time.time()-t)    
mwait(0)




all_directions=[]
for i in range(num_samples):
    if i==0:
        direction=[x1_values[0],x2_values[0],x3_values[0]]
        all_directions.append(direction)
        
        amovel(posx(direction[0],direction[1],direction[2],0,0,0),t=time_move,mod=DR_MV_MOD_REL)
        while True:
          if check_motion()==0:
            break
          if check_motion()==2:
            time_real.append(time.time()-t)
            real_pos.append(get_current_posx())
            time_real.append(time.time()-t)
        mwait(0)
        
        mwait(time_stay)
        
    else:
        direction=[x1_values[i]-x1_values[i-1],x2_values[i]-x2_values[i-1],x3_values[i]-x3_values[i-1]]
        all_directions.append(direction)
        
        amovel(posx(direction[0],direction[1],direction[2],0,0,0),t=time_move,mod=DR_MV_MOD_REL)
        while True:
          if check_motion()==0:
            break
          if check_motion()==2:
            time_real.append(time.time()-t)
            real_pos.append(get_current_posx())
            time_real.append(time.time()-t)
        mwait(0)
        
        mwait(time_stay)



start_diag=[0,dime_XY/2,-dime_Z]

x=start_diag[0]-x1_values[num_samples-1]
y=start_diag[1]-x2_values[num_samples-1]
z=start_diag[2]-x3_values[num_samples-1]

amovel(posx(x,y,z,0,0,0),t=time_move,mod=DR_MV_MOD_REL)
while True:
  if check_motion()==0:
   break
  if check_motion()==2:
   time_real.append(time.time()-t)
   real_pos.append(get_current_posx())
   time_real.append(time.time()-t)
mwait(0)

amovel(posx(dime_XY,-dime_XY,dime_Z,0,0,0),t=time_diag1,mod=DR_MV_MOD_REL)
while True:
  if check_motion()==0:
   break
  if check_motion()==2:
   time_real.append(time.time()-t)
   real_pos.append(get_current_posx())
   time_real.append(time.time()-t)
mwait(0)

amovel(posx(-dime_XY,dime_XY,-dime_Z,0,0,0),t=time_diag1,mod=DR_MV_MOD_REL)
while True:
  if check_motion()==0:
   break
  if check_motion()==2:
   time_real.append(time.time()-t)
   real_pos.append(get_current_posx())
   time_real.append(time.time()-t)
mwait(0)

amovel(posx(dime_XY,-dime_XY,dime_Z,0,0,0),t=time_diag2,mod=DR_MV_MOD_REL)
while True:
  if check_motion()==0:
   break
  if check_motion()==2:
   time_real.append(time.time()-t)
   real_pos.append(get_current_posx())
   time_real.append(time.time()-t)
mwait(0)

amovel(posx(-dime_XY,dime_XY,-dime_Z,0,0,0),t=time_diag2,mod=DR_MV_MOD_REL)
while True:
  if check_motion()==0:
   break
  if check_motion()==2:
   time_real.append(time.time()-t)
   real_pos.append(get_current_posx())
   time_real.append(time.time()-t)
mwait(0)

start_spiral=[dime_XY/2,0,-dime_Z]

x=start_spiral[0]-start_diag[0]
y=start_spiral[1]-start_diag[1]
z=start_spiral[2]-start_diag[2]


amovel(posx(x,y,z,0,0,0),t=time_move,mod=DR_MV_MOD_REL)
while True:
  if check_motion()==0:
    break
  if check_motion()==2:
    time_real.append(time.time()-t)
    real_pos.append(get_current_posx())
    time_real.append(time.time()-t)
mwait(0)

amove_spiral(rev=5,rmax=(dime_XY/2)-5,lmax=dime_Z,time=time_spiral,axis=DR_AXIS_Z,ref=DR_BASE)

while True:
  if check_motion()==0:
   break
  if check_motion()==2:
   time_real.append(time.time()-t)
   real_pos.append(get_current_posx())
   time_real.append(time.time()-t)    
mwait(0)         
            
   
with open("/media/dra/USB/pos.csv", "w") as file:
    writer = csv.writer(file)
    writer.writerows(real_pos)

with open("/media/dra/USB/zaman.csv", "w") as file_time:
     writer = csv.writer(file_time)
     writer.writerows(map(lambda x: [x], time_real)) 

    














